# Aliases
alias c="cd $HOME/Code"
alias d="cd $HOME/Desktop"
alias dl="cd $HOME/Downloads"
alias g=git
alias h="cd $HOME/"
alias ls='ls -lah'
alias o='open .'
alias s='subl .'
alias a='atom .'
alias v='code .'

# Current editor
alias e='a'

# grep options
alias grep='grep --color=auto'

# System
alias update='sudo softwareupdate -i -a; brew update; brew upgrade; brew cleanup'

# Git
alias gboom='gpull && gpush && echo BOOM ! ! !'
alias gpull='git pull --rebase origin $(git rev-parse --abbrev-ref HEAD)'
alias gpush='git push origin $(git rev-parse --abbrev-ref HEAD)'
function gi() { curl https://www.gitignore.io/api/$@ ;}

# Common
alias json='python -mjson.tool'
alias npmls='npm list --depth=0 "$@" 2>/dev/null'
alias server='http-server'
alias apm-stars-update='apm unstar $(apm stars --json | jq -r ".[].name") && apm star --installed'

# Use web project template
function new-web-app() {
  REPO_URL='git@github.com:GetBlimp/web-project-template.git'
  git clone $REPO_URL $@
  cd $@;
  git remote rename origin upstream
  cp .env.sample .env
  yarn
  echo "--> 'npm run watch' to start a development server on http://localhost:5000"
}

# Network
alias dig="dig @8.8.8.8 ANY +noall +answer $1"
alias digns="dig @8.8.8.8 +short NS $1"
alias flushdns="sudo killall -HUP mDNSResponder"

# Show all ip addresses
function ips() {
  if [[ `uname` == 'Darwin' ]]; then
    interface='en'
  else
    interface='eth'
  fi
  for NUMBER in $(seq 0 9); do
    ip=`ifconfig $interface$NUMBER 2>/dev/null |
      grep -Eo 'inet (addr:)?([0-9]*\.){3}[0-9]*' |
      grep -Eo '([0-9]*\.){3}[0-9]*'`

    if [ -n "$ip" ]; then
      echo "Local($interface$NUMBER): $ip"
    fi
  done
  echo "Remote:     $(curl -s https://ipinfo.io/ip)"
}

function ipinfo(){ open https://ipinfo.io/$@; }

alias scan="nmap -T4 -A -v --max-rtt-timeout=500ms --initial-rtt-timeout=200ms --min-rtt-timeout=200ms --open --stats-every 5s $1"

# Other
alias brew="env PATH=${PATH//$(pyenv root)\/shims:/} brew"
